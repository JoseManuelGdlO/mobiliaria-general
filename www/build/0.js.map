{"version":3,"sources":["../../src/pages/trabajadores/trabajadores.module.ts","../../src/pages/trabajadores/trabajadores.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TrabajadoresPage } from './trabajadores';\n\n@NgModule({\n  declarations: [\n    TrabajadoresPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TrabajadoresPage),\n  ],\n})\nexport class TrabajadoresPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/trabajadores/trabajadores.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, AlertController, ToastController } from 'ionic-angular';\nimport { HttpProvider } from '../../providers/http/http';\n\n/**\n * Generated class for the TrabajadoresPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-trabajadores',\n  templateUrl: 'trabajadores.html',\n})\nexport class TrabajadoresPage {\n\n  inventario:any;\n  public currentDate: string = new Date().toLocaleDateString();\n\n  constructor(public navCtrl: NavController, public toastCtrl: ToastController, public alertCtrl: AlertController, public http: HttpProvider, public navParams: NavParams, public view: ViewController) {\n\n    this.sacarTrabajadores();\n    //console.log(this.currentDate);\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad TrabajadoresPage');\n  }\n\n  cerrarModal(){\n    this.view.dismiss();\n  }\n\n  sacarTrabajadores(){\n\n    //console.log(\"entraste al metodo\");\n\n    this.http.revisarTrabajadores().then(\n      (inv) => { \n      // console.log(inv)     \n        \n\n       this.inventario= inv[\"trabajadores\"];\n\n       //console.log(this.trabajadores);\n      \n         \n      },\n      (error) =>{\n        console.log(\"Error\"+JSON.stringify(error));\n        alert(\"Verifica que cuentes con internet\");\n      }\n    );\n\n  }\n\n\n  eliminarTrabjador(id:string){\n\n    const confirm = this.alertCtrl.create({\n      title: 'Estas seguro que deseas eliminar a este Usuario?',\n      message: 'Se eliminara de la lista de usuarios y no podra ser recuperado ',\n      buttons: [\n        {\n          text: 'No',\n          handler: () => {\n            console.log('Disagree clicked');\n          }\n        },\n        {\n          text: 'Si',\n          handler: () => {\n            this.eliminarTrabajadores(id);\n          }\n        }\n      ]\n    });\n    confirm.present();\n\n  }\n\n  eliminarTrabajadores(id:string){\n    this.http.eliminarTrabajador(id).then(\n      (inv) => { \n      // console.log(inv)     \n        \n\n      if(inv[\"trabajador\"] == \"eliminado\"){\n\n        let toast = this.toastCtrl.create({\n          message: 'Usuario Eliminado',\n          duration: 3000,\n          position: 'top'\n        });\n      \n        toast.present();\n        this.cerrarModal();\n\n      }else{\n\n        let toast = this.toastCtrl.create({\n          message: 'Fallo la eliminacion Contacta Administrador',\n          duration: 3000,\n          position: 'top'\n        });\n      \n        toast.present();\n\n      }\n\n       //console.log(this.trabajadores);\n      \n         \n      },\n      (error) =>{\n        console.log(\"Error\"+JSON.stringify(error));\n        alert(\"Verifica que cuentes con internet\");\n      }\n    );\n  }\n\n  presentPrompt() {\n    let alert = this.alertCtrl.create({\n      title: 'Usuario Nuevo',\n      inputs: [\n        {\n          name: 'nombre_comp',\n          placeholder: 'Nombre Completo' \n        },\n        {\n          name: 'usuario',\n          placeholder: 'Nombre del Usuario'\n        },\n        {\n          name: 'contrasena',\n          placeholder: 'Contraseña'\n        },\n        {\n          name: 'correo',\n          placeholder: 'Correo Electronico'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Añadir',\n          handler: data => {\n\n            this.decidirRol(data.nombre_comp, data.usuario, data.contrasena, data.correo);\n           \n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  decidirRol(nombre:string, usuario:string, contrasena:string, correo:string){\n\n    let alert = this.alertCtrl.create({\n      title: 'Decide rol al nuevo Usuario',\n      message: 'Elige el tipo de premisos que tendra el usuario',\n      buttons: [\n        {\n          text: 'Administrador',\n          role: 'cancel',\n          handler: () => {\n            this.anadirUsuario(nombre, usuario, contrasena, correo, \"Administrador\");\n          }\n        },\n        {\n          text: 'Repartidor',\n          handler: () => {\n            this.anadirUsuario(nombre, usuario, contrasena, correo, \"Trabajador\");\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n\n  anadirUsuario(nombre:string, usuario:string, contrasena:string, correo:string, rol:string){\n\n  //  console.log(nombre+usuario+contrasena+rol+this.currentDate);\n\n    this.http.anadirUsuario(nombre,usuario,contrasena,correo,rol,this.currentDate).then(\n      (inv) => { \n        console.log(inv)     \n        \n      if(inv[\"trabajador\"] == \"registrado\"){\n\n        let toast = this.toastCtrl.create({\n          message: 'Usuario Agregado',\n          duration: 3000,\n          position: 'top'\n        });\n      \n        toast.present();\n        this.cerrarModal();\n\n        }else{\n\n        let toast = this.toastCtrl.create({\n          message: 'Fallo Agregar Usuario Contacta Administrador',\n          duration: 3000,\n          position: 'top'\n        });\n      \n        toast.present();\n\n      }\n         \n      },\n      (error) =>{\n        console.log(\"Error\"+JSON.stringify(error));\n        alert(\"Verifica que cuentes con internet\");\n      }\n    );\n\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/trabajadores/trabajadores.ts"],"sourceRoot":""}